(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7874],{7061:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/mog-v2-refactor-4",function(){return n(1197)}])},1197:function(e,s,n){"use strict";n.r(s);var l=n(1527),i=n(808),o=n(6736);function r(e){let s=Object.assign({h1:"h1",blockquote:"blockquote",p:"p",a:"a",h2:"h2",code:"code",pre:"pre",span:"span",strong:"strong",ul:"ul",li:"li"},(0,o.ah)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.h1,{id:"mog-odyssey-20-加入部分特性---stage-4-issue",children:"Mog Odyssey 2.0 加入部分特性 - Stage 4 Issue"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["全部修改日志在 ",(0,l.jsx)(s.a,{href:"https://github.com/mogland/core/issues/605",children:"https://github.com/mogland/core/issues/605"})]}),"\n"]}),"\n",(0,l.jsxs)(s.h2,{id:"主题系统-by-wibus-wee",children:["主题系统 ",(0,l.jsx)("small",{children:"by @wibus-wee"})]}),"\n",(0,l.jsxs)(s.p,{children:["我们新增了一个主题系统服务 (themes-service)，它将配有 Fastify + ",(0,l.jsx)(s.code,{children:"@fastify/point-of-view"}),"，目前我们支持了 ",(0,l.jsx)(s.code,{children:".ejs"})," 格式的模板引擎，在 Stage 5 我们可能会加入自定义渲染器功能。"]}),"\n",(0,l.jsxs)(s.p,{children:["主题系统支持 i18n，配置十分方便，仅需要 ",(0,l.jsx)(s.code,{children:"i18n.yaml"})," + ",(0,l.jsx)(s.code,{children:"_i()"})," 即可使用："]}),"\n",(0,l.jsx)(s.pre,{"data-language":"yaml","data-theme":"default",hasCopyCode:!0,children:(0,l.jsxs)(s.code,{"data-language":"yaml","data-theme":"default",children:[(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# config.yaml"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"language"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"zh"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# or `en`"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:" "}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# i18n.yaml"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"en"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"hello"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Hello'"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"zh"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"hello"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'你好'"})]})]})}),"\n",(0,l.jsx)(s.pre,{"data-language":"ejs","data-theme":"default",hasCopyCode:!0,children:(0,l.jsxs)(s.code,{"data-language":"ejs","data-theme":"default",children:[(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<!-- zh：你好 | en：Hello -->"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<%- _i('hello') %>"})})]})}),"\n",(0,l.jsxs)(s.p,{children:["除此之外，还支持了自定义主题插件支持，它能让你在渲染前处理某些数据，不过目前它还有些",(0,l.jsx)(s.strong,{children:"缺陷"}),"，有待 Stage 5 中继续改进。"]}),"\n",(0,l.jsxs)(s.h2,{id:"重新设计-core-readme-by-wibus-wee",children:["重新设计 Core README ",(0,l.jsx)("small",{children:"by @wibus-wee"})]}),"\n",(0,l.jsx)(s.p,{children:"总是认为之前的 README 太过花哨，而我们在第四阶段中，重新设计了 README。"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["移除了 ",(0,l.jsx)(s.code,{children:"Motivation 动机"})," 章节"]}),"\n",(0,l.jsxs)(s.li,{children:["移除了 ",(0,l.jsx)(s.code,{children:"Table of Contents 目录"}),"章节"]}),"\n",(0,l.jsxs)(s.li,{children:["重新设计了 ",(0,l.jsx)(s.code,{children:"Contributors"})," 章节"]}),"\n",(0,l.jsxs)(s.li,{children:["移除了 ",(0,l.jsx)(s.code,{children:"Activity"})," 章节"]}),"\n",(0,l.jsxs)(s.li,{children:["移除了 ",(0,l.jsx)(s.code,{children:"@allcontributors"})," 机器人"]}),"\n",(0,l.jsx)(s.li,{children:"国际化 README"}),"\n",(0,l.jsxs)(s.li,{children:["将 ",(0,l.jsx)(s.code,{children:"#"})," --> ",(0,l.jsx)(s.code,{children:"##"}),"，以去除默认样式中过长的下划线"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"与我们而言，这是一个小改进。"}),"\n",(0,l.jsxs)(s.h2,{id:"core-支持内置控制台-by-wibus-wee",children:["[Core] 支持内置控制台 ",(0,l.jsx)("small",{children:"by @wibus-wee"})]}),"\n",(0,l.jsxs)(s.p,{children:["为了便捷性，我们将控制台移入了 Core Gateway 服务中，需要注意的是，它并不是由模板引擎制作的，控制台的仓库依然在 ",(0,l.jsx)(s.a,{href:"https://github.com/mogland/console",children:"mogland/console"}),"，但 Core 将会把全部请求转接到后端中，把 Cookie 等注入请求返回中，请求远端 HTML 等文件，将内容返回。"]}),"\n",(0,l.jsx)(s.p,{children:"我们增加了关于后台的自定义配置，由于这项功能仍处于测试阶段，我们默认将会把它关闭，如果需要启动你需要在配置文件中启动它。相关文档已更新"}),"\n",(0,l.jsxs)(s.h2,{id:"全新的评论组件-mog-comments-wc-by-wibus-wee",children:["全新的评论组件 mog-comments-wc ",(0,l.jsx)("small",{children:"by @wibus-wee"})]}),"\n",(0,l.jsx)(s.p,{children:"Mog 评论服务的设计初衷是为了让用户可以在自己的网站上使用评论功能，但是也可以在其他更多的地方使用。因此它更像是一个独立的评论系统，而不是一个专属于 Mog 的内部组件。"}),"\n",(0,l.jsxs)(s.p,{children:["为了方便主题开发，我们使用 @jwcjs 开发了通用的评论组件。多亏于 Mog 评论服务的设计，它可以在任何地方使用，比如 ",(0,l.jsx)(s.code,{children:"Hexo"}),"。在后期我们将会实现对应的专属评论控制面板"]}),"\n",(0,l.jsx)("img",{src:"https://user-images.githubusercontent.com/62133302/215319021-147d3c16-0da6-4684-a8e1-c0e3b783accd.png",width:"700"})]})}n(8823),s.default=(0,i.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,o.ah)(),e.components);return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(r,{...e})}):r(e)},pageOpts:{filePath:"pages/blog/mog-v2-refactor-4.mdx",route:"/blog/mog-v2-refactor-4",frontMatter:{title:"Mog Odyssey 2.0 加入部分特性 - Stage 4 Issue",description:"第四阶段加入主题系统、并重新设计了 README、在后端也支持了内置控制台、以及带来了全新的评论组件",date:"2023-03-12T00:00:00.000Z"},headings:[{depth:1,value:"Mog Odyssey 2.0 加入部分特性 - Stage 4 Issue",id:"mog-odyssey-20-加入部分特性---stage-4-issue"},{depth:2,value:"主题系统 by @wibus-wee",id:"主题系统-by-wibus-wee"},{depth:2,value:"重新设计 Core README by @wibus-wee",id:"重新设计-core-readme-by-wibus-wee"},{depth:2,value:"[Core] 支持内置控制台 by @wibus-wee",id:"core-支持内置控制台-by-wibus-wee"},{depth:2,value:"全新的评论组件 mog-comments-wc by @wibus-wee",id:"全新的评论组件-mog-comments-wc-by-wibus-wee"}],title:"Mog Odyssey 2.0 加入部分特性 - Stage 4 Issue"},pageNextRoute:"/blog/mog-v2-refactor-4"})}},function(e){e.O(0,[808,9774,2888,179],function(){return e(e.s=7061)}),_N_E=e.O()}]);